function onSuccess(b){var c=b.getAuthResponse().id_token;$('input[name="id_token"]').val(c);$(jq($("#google-signin").closest("form").attr("id"))).submit();var a=gapi.auth2.getAuthInstance();a.signOut();}function renderButton(){gapi.signin2.render("google-signin",{scope:"profile email",width:210,height:42,longtitle:true,theme:"dark",onsuccess:onSuccess});}var authentication=function(c,b){var a=$(c).attr("data-redirect-modal-id");$(c).ajaxhandler({beforeSend:function(e,d){ajaxResponseHandlers.defhandler.beforeSend(e,d);},success:function(e,f,g,d){if(e.auth_status){b();}else{$(jq("auth_user_modal")).attr("param-modal_id",a);$(jq("auth_user_modal")).trigger("click");}},error:function(d,f,e){ajaxResponseHandlers.defhandler.error(d,f,e);}});};$(document).ready(function(){$('a[data-auth="true"]').on("click",function(a){a.preventDefault();var b=$(this).attr("data-redirect-modal-id");authentication($(this),function(){$(jq(b)).trigger("click");});});$('[data-input-submit="true"]').click(function(b){var a=$(this);setTimeout(function(){$(jq($(a).attr("data-form-id"))).submit();},10);});$("#users_print_recovery_codes").on("click",function(a){a.preventDefault();download($(this).attr("href"));});});ajaxResponseHandlers.reauth_event_hndlr={beforeSend:function(b,a){ajaxResponseHandlers.defhandler.beforeSend(b,a);},success:function(b,c,d,a){if(b.auth_status&&b.modal_id){$(jq(b.modal_id)).trigger("click");}else{if(b.forward){ajaxResponseHandlers.defhandler.success(b,c,d,a);}}},error:function(a,c,b){ajaxResponseHandlers.formhandler.error(a,c,b);}};ajaxResponseHandlers.view_recovery_event_hndlr={beforeSend:function(b,a){ajaxResponseHandlers.defhandler.beforeSend(b,a);},success:function(c,e,f,b){if(c.content){$("#recovery-codes").show();$("#show-codes").hide();var a=c.content;$("#recovery_codes_list").empty();for(var d=0;d<a.length;d++){temp=$($("#recovery-code-content").html());temp.text(a[d]);if(d<a.length/2){$("#recovery_codes_list-1").append(temp);}else{$("#recovery_codes_list-2").append(temp);}}}},error:function(a,c,b){ajaxResponseHandlers.defhandler.error(a,c,b);}};